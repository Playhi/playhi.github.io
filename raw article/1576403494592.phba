[Article]
Article Header = 
Article Icon = 
Article date = 20191215
Article title = 以JS实现人民币金额数字小写转大写
Page author = Playhi
Article content = // Constants: var MAXIMUM_NUMBER = 999999999999.99; <br> // Predefine the radix characters and currency symbols for output: var CN_ZERO = "零"; <br> var CN_ONE = "壹"; <br> var CN_TWO = "贰"; <br> var CN_THREE = "叁"; <br> var CN_FOUR = "肆"; <br> var CN_FIVE = "伍"; <br> var CN_SIX = "陆"; <br> var CN_SEVEN = "柒"; <br> var CN_EIGHT = "捌"; <br> var CN_NINE = "玖"; <br> var CN_TEN = "拾"; <br> var CN_HUNDRED = "佰"; <br> var CN_THOUSAND = "仟"; <br> var CN_TEN_THOUSAND = "万"; <br> var CN_HUNDRED_MILLION = "亿"; <br> var CN_DOLLAR = "圆"; <br> var CN_TEN_CENT = "角"; <br> var CN_CENT = "分"; <br> var CN_INTEGER = "整"; <br> // Variables: var integral; <br> // Represent integral part of digit number. var decimal; <br> // Represent decimal part of digit number. var outputCharacters; <br> // The output result. var parts; <br> var digits, radices, bigRadices, decimals; <br> var zeroCount; <br> var i, p, d; <br> var quotient, modulus; <br> // Validate input string: currencyDigits = $("#lowerRMB").val(); <br> // Normalize the format of input digits: currencyDigits = currencyDigits.replace(/,/g, ""); <br> // Remove comma delimiters. currencyDigits = currencyDigits.replace(/^0+/, ""); <br> // Trim zeros at the beginning. // Assert the number is not greater than the maximum number. if (Number(currencyDigits) > MAXIMUM_NUMBER) { $("#upperRMB").val("数字过大"); <br> return ""; <br> } // Process the coversion from currency digits to characters: // Separate integral and decimal parts before processing coversion: parts = currencyDigits.split("."); <br> if (parts.length > 1) { integral = parts[0]; <br> decimal = parts[1]; <br> // Cut down redundant decimal digits that are after the second. decimal = decimal.substr(0, 2); <br> } else { integral = parts[0]; <br> decimal = ""; <br> } // Prepare the characters corresponding to the digits: digits = new Array(CN_ZERO, CN_ONE, CN_TWO, CN_THREE, CN_FOUR, CN_FIVE, CN_SIX, CN_SEVEN, CN_EIGHT, CN_NINE); <br> radices = new Array("", CN_TEN, CN_HUNDRED, CN_THOUSAND); <br> bigRadices = new Array("", CN_TEN_THOUSAND, CN_HUNDRED_MILLION); <br> decimals = new Array(CN_TEN_CENT, CN_CENT); <br> // Start processing: outputCharacters = ""; <br> // Process integral part if it is larger than 0: if (Number(integral) > 0) { zeroCount = 0; <br> for (i = 0; <br> i < integral.length; <br> i++) { p = integral.length - i - 1; <br> d = integral.substr(i, 1); <br> quotient = p / 4; <br> modulus = p % 4; <br> if (d == "0") { zeroCount++; <br> } else { if (zeroCount > 0) { outputCharacters += digits[0]; <br> } zeroCount = 0; <br> outputCharacters += digits[Number(d)] + radices[modulus]; <br> } if (modulus == 0 && zeroCount < 4) { outputCharacters += bigRadices[quotient]; <br> } } outputCharacters += CN_DOLLAR; <br> } // Process decimal part if there is: if (decimal != "") { realNotEmpty = false; <br> for (i = 0; <br> i < decimal.length; <br> i++) { d = decimal.substr(i, 1); <br> if (d != "0") { outputCharacters += digits[Number(d)] + decimals[i]; <br> realNotEmpty = true; <br> } } if (!realNotEmpty) { decimal = ""; <br> } } // Confirm and return the final output string: if (outputCharacters == "") { outputCharacters = CN_ZERO + CN_DOLLAR; <br> } if (decimal == "") { outputCharacters += CN_INTEGER; <br> }<br>最后 <code>outputCharacters<code> 就是转换后的结果了。<br>可以访问 <a href="https://cjgj.top/rmbdaxiaoxie.php">https://cjgj.top/rmbdaxiaoxie.php</a> 查看演示。<br><Br><br><Br>JS代码段由 https://blog.csdn.net/qq7342272/article/details/6658702 经修改处理后而来。

